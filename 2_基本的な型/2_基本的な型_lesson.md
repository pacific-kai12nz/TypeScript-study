# 2. 基本的な型

## プリミティブ型（string, number, boolean）

TypeScriptには、JavaScriptと同様に基本的なプリミティブ型があります。

### 文字列型 (string)

文字列型は、テキストデータを表すために使用されます。

```typescript
// 文字列型の変数宣言
let 名前: string = "山田太郎";
let 挨拶: string = `こんにちは、${名前}さん！`;  // テンプレートリテラルも使えます

// 文字列メソッドも使えます
console.log(名前.length);  // 4
console.log(名前.toUpperCase());  // "山田太郎"（日本語なので大文字化されません）
```

### 数値型 (number)

数値型は、整数や小数といった数値を表します。JavaScriptと同様、TypeScriptの数値はすべて浮動小数点数です。

```typescript
// 数値型の変数宣言
let 年齢: number = 30;
let 身長: number = 175.5;
let マイナス値: number = -10;
let 進数表現: number = 0xFF;  // 16進数 (255)

// 数値演算
let 合計: number = 年齢 + 5;  // 35
```

### 真偽値型 (boolean)

真偽値型は、`true`（真）または`false`（偽）の値を持ちます。

```typescript
// 真偽値型の変数宣言
let 既婚: boolean = false;
let 成人: boolean = 年齢 >= 20;  // 条件式の結果も真偽値

// 条件分岐で使用する例
if (成人) {
  console.log("成人です");
} else {
  console.log("未成年です");
}
```

## 配列と配列型

配列は同じ型の値を複数格納するためのデータ構造です。TypeScriptでは配列の型を指定することができます。

### 配列の型指定

配列の型は、要素の型の後に`[]`を付けるか、`Array<型>`を使って指定します。

```typescript
// 文字列の配列
let 果物: string[] = ["りんご", "バナナ", "オレンジ"];
// または
let 果物2: Array<string> = ["りんご", "バナナ", "オレンジ"];

// 数値の配列
let 点数: number[] = [80, 90, 75, 65];

// 真偽値の配列
let フラグリスト: boolean[] = [true, false, true];
```

### 配列の操作

配列にはさまざまなメソッドがあり、要素の追加、削除、検索などができます。

```typescript
let 名前リスト: string[] = ["田中", "鈴木", "佐藤"];

// 要素の追加
名前リスト.push("高橋");  // 末尾に追加
console.log(名前リスト);  // ["田中", "鈴木", "佐藤", "高橋"]

// インデックスによるアクセス（0から始まる）
console.log(名前リスト[0]);  // "田中"

// 要素数の取得
console.log(名前リスト.length);  // 4

// 配列の反復処理
for (let i = 0; i < 名前リスト.length; i++) {
  console.log(`${i + 1}番目: ${名前リスト[i]}`);
}

// forEach メソッドでの反復処理
名前リスト.forEach((名前, インデックス) => {
  console.log(`${インデックス + 1}番目: ${名前}`);
});
```

## オブジェクト型

オブジェクトは、複数のプロパティ（キーと値のペア）を持つデータ構造です。TypeScriptではオブジェクトの型を指定することができます。

### オブジェクトの型指定

オブジェクトの型は、プロパティ名とその型を指定します。

```typescript
// オブジェクト型の変数宣言
let ユーザー: { 名前: string; 年齢: number; 既婚: boolean } = {
  名前: "山田太郎",
  年齢: 30,
  既婚: false
};

// プロパティへのアクセス
console.log(ユーザー.名前);  // "山田太郎"
console.log(ユーザー["年齢"]);  // 30（ブラケット記法でもアクセス可能）

// プロパティの変更
ユーザー.年齢 = 31;
console.log(ユーザー.年齢);  // 31
```

### オプショナルプロパティ

オブジェクトのプロパティは、必須ではなくオプショナル（省略可能）にすることもできます。プロパティ名の後に`?`を付けます。

```typescript
// オプショナルプロパティを持つオブジェクト型
let 従業員: { 
  名前: string; 
  年齢: number; 
  部署?: string;  // オプショナルプロパティ
} = {
  名前: "田中次郎",
  年齢: 28
  // 部署は省略可能
};

// 後からプロパティを追加
従業員.部署 = "営業部";
console.log(従業員.部署);  // "営業部"
```

### オブジェクトの応用例

オブジェクトは実際のアプリケーションでよく使われます。例えば、ユーザー情報やデータのモデリングなどに適しています。

```typescript
// 複数のユーザーを管理する配列
let ユーザーリスト: { id: number; 名前: string; メール?: string }[] = [
  { id: 1, 名前: "田中一郎", メール: "tanaka@example.com" },
  { id: 2, 名前: "鈴木花子" },
  { id: 3, 名前: "佐藤健太", メール: "sato@example.com" }
];

// ユーザー検索関数
function ユーザー検索(id: number): { id: number; 名前: string; メール?: string } | undefined {
  return ユーザーリスト.find(ユーザー => ユーザー.id === id);
}

// 使用例
const 検索結果 = ユーザー検索(2);
if (検索結果) {
  console.log(`ユーザー名: ${検索結果.名前}`);
  // オプショナルプロパティにアクセスする前に存在チェック
  if (検索結果.メール) {
    console.log(`メール: ${検索結果.メール}`);
  } else {
    console.log("メールアドレスは登録されていません");
  }
}
```

TypeScriptの型システムを使うことで、コードの意図をより明確に表現でき、多くのバグを未然に防ぐことができます。これらの基本的な型を理解することで、より堅牢なプログラムを書く基礎が身につきます。
